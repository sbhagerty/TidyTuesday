theme_void()+
coord_polar("y", start=0)+
transition_states(year)+
ggtitle('Proportion of Found vs. Fell Meteorites in {closest_state}', subtitle = '{filter(mini, year == as.integer(closest_state))[4][1]}')
animate(x)
x<-ggplot(mini,aes(x="", y=prop, fill=type, label=total))+
geom_bar(stat='identity', width=1)+
theme_void()+
coord_polar("y", start=0)+
transition_states(year)+
ggtitle('In {closest_state} there were ', subtitle = '{(filter(mini, year == as.integer(closest_state))[4])[1]}')
animate(x)
filter(mini,year==1988)
filter(mini,year==1988)[4]
filter(mini,year==1988)[4][1]
filter(mini,year==1988)[4][1,1]
filter(mini,year==1988)[4][[1,1]]
x<-ggplot(mini,aes(x="", y=prop, fill=type, label=total))+
geom_bar(stat='identity', width=1)+
theme_void()+
coord_polar("y", start=0)+
transition_states(year)+
ggtitle('In {closest_state} there were {(filter(mini, year == as.integer(closest_state))[4])[[1,1]]} meteorites', subtitle = 'Proportion of the meteories found ')
animate(x)
x<-ggplot(mini,aes(x="", y=prop, fill=type, label=total))+
geom_bar(stat='identity', width=1)+
theme_void()+
scale_color_manual(c("00539CFF","#EEA47FFF"))+
coord_polar("y", start=0)+
transition_states(year)+
ggtitle('In {closest_state} there were {(filter(mini, year == as.integer(closest_state))[4])[[1,1]]} meteorites', subtitle = 'Proportion of the meteories found vs. fell')
x<- x+ theme()
animate(x)
mini<-filter(m, year == 1940)
x<-ggplot(mini,aes(x="", y=prop, fill=type, label=total))+
geom_bar(stat='identity', width=1)+
theme_void()+
scale_color_manual(c("00539CFF","#EEA47FFF"))+
coord_polar("y", start=0)
x
?scale_color_manual()
x<-ggplot(mini,aes(x="", y=prop, fill=type, label=total))+
geom_bar(stat='identity', width=1)+
theme_void()+
scale_fill_manual(c("00539CFF","#EEA47FFF"))+
coord_polar("y", start=0)
x
x<-ggplot(mini,aes(x="", y=prop, fill=type, label=total))+
geom_bar(stat='identity', width=1)+
theme_void()+
scale_fill_manual("00539CFF","#EEA47FFF")+
coord_polar("y", start=0)
x
x<-ggplot(mini,aes(x="", y=prop, fill=type, label=total))+
geom_bar(stat='identity', width=1)+
theme_void()+
scale_fill_manual(values=c("00539CFF","#EEA47FFF"))+
coord_polar("y", start=0)
x
x<-ggplot(mini,aes(x="", y=prop, fill=type, label=total))+
geom_bar(stat='identity', width=1)+
theme_void()+
scale_fill_manual(values=c("009539CFF","#EEA47FFF"))+
coord_polar("y", start=0)
x
x<-ggplot(mini,aes(x="", y=prop, fill=type, label=total))+
geom_bar(stat='identity', width=1)+
theme_void()+
scale_fill_manual(values=c("0009539CFF","#EEA47FFF"))+
coord_polar("y", start=0)
x
x<-ggplot(mini,aes(x="", y=prop, fill=type, label=total))+
geom_bar(stat='identity', width=1)+
theme_void()+
scale_fill_manual(values=c("00539CFF","#EEA47FFF"))+
coord_polar("y", start=0)
x
x+ theme(plot.background = element_rect(fill="#F1EAD7"))
x<-ggplot(mini,aes(x="", y=prop, fill=type, label=total))+
geom_bar(stat='identity', width=1)+
theme_void()+
scale_fill_manual(values=c("#FE6D64","#FCD766"))+
coord_polar("y", start=0)
x+ theme(plot.background = element_rect(fill="#F1EAD7"))
x<-ggplot(mini,aes(x="", y=prop, fill=type, label=total))+
geom_bar(stat='identity', width=1)+
theme_void()+
scale_fill_manual(values=c("#FE6D64","#06519A"))+
coord_polar("y", start=0)
x+ theme(plot.background = element_rect(fill="#F1EAD7"))
x<-ggplot(mini,aes(x="", y=prop, fill=type, label=total))+
geom_bar(stat='identity', width=1)+
theme_void()+
scale_fill_manual(values=c("#FE6D64","#909844"))+
coord_polar("y", start=0)
x+ theme(plot.background = element_rect(fill="#F1EAD7"))
x<-ggplot(mini,aes(x="", y=prop, fill=type, label=total))+
geom_bar(stat='identity', width=1)+
theme_void()+
scale_fill_manual(values=c("#C2226C","#909844"))+
coord_polar("y", start=0)
x+ theme(plot.background = element_rect(fill="#F1EAD7"))
x<-ggplot(mini,aes(x="", y=prop, fill=type, label=total))+
geom_bar(stat='identity', width=1)+
theme_void()+
scale_fill_manual(values=c("#C2226C","#FD6E68"))+
coord_polar("y", start=0)
x+ theme(plot.background = element_rect(fill="#F1EAD7"))
library(extrafont)
import_fonts()
import_font()
font_import
font_import()
x+ theme(plot.background = element_rect(fill="#F1EAD7"),
text= element_text(hjust=0.5, color="#31343A", family="LaoSangmMN"))
fonttable()
x+ theme(plot.background = element_rect(fill="#F1EAD7"),
text= element_text(hjust=0.5, color="#31343A", family="Georgia"))
x+ ggtitle("test")+theme(plot.background = element_rect(fill="#F1EAD7"),
text= element_text(hjust=0.5, color="#31343A", family="Georgia"))
x+ ggtitle("test")+theme(plot.background = element_rect(fill="#F1EAD7"),
plot.title= element_text(hjust=0.5, color="#31343A", family="Georgia"))
x+ ggtitle("test")+theme(plot.background = element_rect(fill="#F1EAD7"),
plot.title= element_text(hjust=0.5, color="#31343A", family="Georgia"),
legend.direction="horizontal", legend.position = "topleft")
x+ ggtitle("test")+theme(plot.background = element_rect(fill="#F1EAD7"),
plot.title= element_text(hjust=0.5, color="#31343A", family="Georgia"),
legend.direction="horizontal", legend.position = "top")
x+ ggtitle("test")+theme(plot.background = element_rect(fill="#F1EAD7"),
plot.title= element_text(hjust=0.5, color="#31343A", family="Georgia"),
legend.direction="horizontal", legend.position = "bottom")
x+ ggtitle("test")+theme(plot.background = element_rect(fill="#F1EAD7"),
plot.title= element_text(hjust=0.5, color="#31343A", family="Verdana Bold"),
legend.direction="horizontal", legend.position = "bottom")
x+ ggtitle("test")+theme(plot.background = element_rect(fill="#F1EAD7"),
plot.title= element_text(hjust=0.5, color="black", family="Verdana Bold"),
legend.direction="horizontal", legend.position = "bottom")
x<-ggplot(mini,aes(x="", y=prop, fill=type, label=total))+
geom_bar(stat='identity', width=1)+
theme_void()+
scale_fill_manual(values=c("#C2226C","#FD6E68"))+
coord_polar("y", start=0)+
theme(plot.background = element_rect(fill="#F1EAD7"),
plot.title= element_text(hjust=0.5, color="black", family="Verdana Bold"),
legend.direction="horizontal", legend.position = "bottom")+
transition_states(year)+
ggtitle('In {closest_state} there were {(filter(mini, year == as.integer(closest_state))[4])[[1,1]]} meteorites', subtitle = 'Proportion of the meteories found vs. fell')
x<- x+ theme(plot.background = element_rect(fill="#F1EAD7"))
animate(x)
animate(x)
x<-ggplot(mini,aes(x="", y=prop, fill=type, label=total))+
geom_bar(stat='identity', width=1)+
theme_void()+
scale_fill_manual(values=c("#C2226C","#FD6E68"))+
coord_polar("y", start=0)+
theme(plot.background = element_rect(fill="#F1EAD7"),
plot.title= element_text(hjust=0.5, color="black", family="Verdana Bold"),
legend.direction="horizontal", legend.position = "bottom")
x<-x+transition_states(year)+ggtitle('In {closest_state} there were {(filter(mini, year == as.integer(closest_state))[4])[[1,1]]} meteorites', subtitle = 'Proportion of the meteorites that were found vs. fell')
animate(x)
x<-ggplot(mini,aes(x="", y=prop, fill=type, label=total))+
geom_bar(stat='identity', width=1)+
theme_void()+
scale_fill_manual(values=c("#C2226C","#FD6E68"), name="", labels=c("Fell", "Found"))+
coord_polar("y", start=0)+
theme(plot.background = element_rect(fill="#F1EAD7"),
plot.title= element_text(hjust=0.5, color="black", family="Verdana Bold"),
legend.direction="horizontal", legend.position = "bottom")
x
x<-ggplot(mini,aes(x="", y=prop, fill=type, label=total))+
geom_bar(stat='identity', width=1)+
theme_void()+
scale_fill_manual(values=c("#C2226C","#FD6E68"), name="", labels=c("Fell", "Found"))+
coord_polar("y", start=0)+
theme(plot.background = element_rect(fill="#F1EAD7"),
plot.title= element_text(hjust=0.5, color="black", family="Verdana Bold"),
legend.direction="horizontal", legend.position = "bottom")
x<-x+transition_states(year)+ggtitle('In {closest_state} there were {(filter(mini, year == as.integer(closest_state))[4])[[1,1]]} meteorites', subtitle = 'Proportion of the meteorites that were found vs. fell')
animate(x)
x<-ggplot(mini,aes(x="", y=prop, fill=type, label=total))+
geom_bar(stat='identity', width=1)+ coord_polar("y", start=0)+
x<-ggplot(mini,aes(x="", y=prop, fill=type, label=total))+
geom_bar(stat='identity', width=1)+
theme_void()+
scale_fill_manual(values=c("#C2226C","#FD6E68"), name="", labels=c("Fell", "Found"))+
coord_polar("y", start=0)+transition_states(year)+ggtitle('In {closest_state} there were {(filter(mini, year == as.integer(closest_state))[4])[[1,1]]} meteorites', subtitle = 'Proportion of the meteorites that were found vs. fell')
x<-ggplot(mini,aes(x="", y=prop, fill=type, label=total))+
geom_bar(stat='identity', width=1)+
theme_void()+
scale_fill_manual(values=c("#C2226C","#FD6E68"), name="", labels=c("Fell", "Found"))+
coord_polar("y", start=0)+transition_states(year)+ggtitle('In {closest_state} there were {(filter(mini, year == as.integer(closest_state))[4])[[1,1]]} meteorites', subtitle = 'Proportion of the meteorites that were found vs. fell')
x
x<-ggplot(mini,aes(x="", y=prop, fill=type, label=total))+
geom_bar(stat='identity', width=1)+
theme_void()+
scale_fill_manual(values=c("#C2226C","#FD6E68"), name="", labels=c("Fell", "Found"))+
coord_polar("y", start=0)+transition_states(year)#+ggtitle('In {closest_state} there were {(filter(mini, year == as.integer(closest_state))[4])[[1,1]]} meteorites', subtitle = 'Proportion of the meteorites that were found vs. fell')
x
x<-ggplot(mini,aes(x="", y=prop, fill=type, label=total))+
geom_bar(stat='identity', width=1)+
theme_void()+
coord_polar("y", start=0)+transition_states(year)#+ggtitle('In {closest_state} there were {(filter(mini, year == as.integer(closest_state))[4])[[1,1]]} meteorites', subtitle = 'Proportion of the meteorites that were found vs. fell')
x
mini<-filter(m, year >= 1940)
x<-ggplot(mini,aes(x="", y=prop, fill=type, label=total))+
geom_bar(stat='identity', width=1)+
theme_void()+
scale_fill_manual(values=c("#C2226C","#FD6E68"), name="", labels=c("Fell", "Found"))+
coord_polar("y", start=0)+
theme(plot.background = element_rect(fill="#F1EAD7"),
plot.title= element_text(hjust=0.5, color="black", family="Verdana Bold"),
legend.direction="horizontal", legend.position = "bottom")
x<-x+transition_states(year)+ggtitle('In {closest_state} there were {(filter(mini, year == as.integer(closest_state))[4])[[1,1]]} meteorites', subtitle = 'Proportion of the meteorites that were found vs. fell')
animate(x)
x<-ggplot(mini,aes(x="", y=prop, fill=type, label=total))+
geom_bar(stat='identity', width=1)+
theme_void()+
scale_fill_manual(values=c("#C2226C","#FD6E68"), name="", labels=c("Fell", "Found"))+
coord_polar("y", start=0)+
theme(plot.background = element_rect(fill="#F1EAD7"),
plot.title= element_text(hjust=0.5, color="black", family="Verdana Bold"),
legend.direction="vertical", legend.position = "top")
x<-x+transition_states(year)+ggtitle('In {closest_state} there were {(filter(mini, year == as.integer(closest_state))[4])[[1,1]]} meteorites', subtitle = 'Proportion of those meteorites that were found vs. fell')
animate(x)
?legend.position
??legend.position
?theme()
x<-ggplot(mini,aes(x="", y=prop, fill=type, label=total))+
geom_bar(stat='identity', width=1)+
theme_void()+
scale_fill_manual(values=c("#C2226C","#FD6E68"), name="", labels=c("Fell", "Found"))+
coord_polar("y", start=0)+
theme(plot.background = element_rect(fill="#F1EAD7"),
plot.title= element_text(hjust=0.5, color="black", family="Verdana Bold"),
legend.direction="vertical", legend.position = c(0,1),
plot.subtitle = element_text(hjust = 0.5))
x<-x+transition_states(year)+ggtitle('In {closest_state} there were {(filter(mini, year == as.integer(closest_state))[4])[[1,1]]} meteorites', subtitle = 'Proportion of those meteorites that were found vs. fell')
animate(x)
x<-ggplot(mini,aes(x="", y=prop, fill=type, label=total))+
geom_bar(stat='identity', width=1)+
theme_void()+
scale_fill_manual(values=c("#C2226C","#FD6E68"), name="", labels=c("Fell", "Found"))+
coord_polar("y", start=0)+
theme(plot.background = element_rect(fill="#F1EAD7"),
plot.title= element_text(hjust=0.5, color="black", family="Verdana Bold"),
legend.direction="vertical", legend.position = c(1,1),
plot.subtitle = element_text(hjust = 0.5))
x<-x+transition_states(year)+ggtitle('In {closest_state} there were {(filter(mini, year == as.integer(closest_state))[4])[[1,1]]} meteorites', subtitle = 'Proportion of those meteorites that were found vs. fell')
animate(x)
x<-ggplot(mini,aes(x="", y=prop, fill=type, label=total))+
geom_bar(stat='identity', width=1)+
theme_void()+
scale_fill_manual(values=c("#C2226C","#FD6E68"), name="", labels=c("Fell", "Found"))+
coord_polar("y", start=0)+
theme(plot.background = element_rect(fill="#F1EAD7"),
plot.title= element_text(hjust=0.5, color="black", family="Verdana Bold"),
legend.direction="vertical", legend.position = c(0.2,1),
plot.subtitle = element_text(hjust = 0.5))
x<-x+transition_states(year)+ggtitle('In {closest_state} there were {(filter(mini, year == as.integer(closest_state))[4])[[1,1]]} meteorites', subtitle = 'Proportion of those meteorites that were found vs. fell')
animate(x)
x<-ggplot(mini,aes(x="", y=prop, fill=type, label=total))+
geom_bar(stat='identity', width=1)+
theme_void()+
scale_fill_manual(values=c("#C2226C","#FD6E68"), name="", labels=c("Fell", "Found"))+
coord_polar("y", start=0)+
theme(plot.background = element_rect(fill="#F1EAD7"),
plot.title= element_text(hjust=0.5, color="black", family="Verdana Bold"),
legend.direction="vertical",
legend.position = c(0.15,0.9),
legend.text = element_text(size=10)
plot.subtitle = element_text(hjust = 0.5))
x<-x+transition_states(year)+ggtitle('In {closest_state} there were {(filter(mini, year == as.integer(closest_state))[4])[[1,1]]} meteorites', subtitle = 'Proportion of those meteorites that were found vs. fell')
animate(x)
View(mini)
x<-ggplot(mini,aes(x="", y=prop, fill=type, label=total))+
geom_bar(stat='identity', width=1)+
theme_void()+
scale_fill_manual(values=c("#C2226C","#FD6E68"), name="", labels=c("Fell", "Found"))+
coord_polar("y", start=0)+
theme(plot.background = element_rect(fill="#F1EAD7"),
plot.title= element_text(hjust=0.5, color="black", family="Verdana Bold"),
legend.direction="vertical",
legend.position = c(0.15,0.85),
legend.text = element_text(size=10)
plot.subtitle = element_text(hjust = 0.5))
x<-x+
transition_states(year)+
ggtitle('In {closest_state} there were {(filter(mini, year == as.integer(closest_state))[4])[[1,1]]} meteorites', subtitle = 'Proportion of those meteorites that were found vs. fell')
animate(x)
x<-ggplot(mini,aes(x="", y=prop, fill=type, label=total))+
geom_bar(stat='identity', width=1)+
theme_void()+
scale_fill_manual(values=c("#C2226C","#FD6E68"), name="", labels=c("Fell", "Found"))+
coord_polar("y", start=0)+
theme(plot.background = element_rect(fill="#F1EAD7"),
plot.title= element_text(hjust=0.5, color="black", family="Verdana Bold"),
legend.direction="vertical",
legend.position = c(0.1,0.85),
legend.text = element_text(size=10)
plot.subtitle = element_text(hjust = 0.5))
x<-x+
transition_states(year)+
ggtitle('In {closest_state} there were {(filter(mini, year == as.integer(closest_state))[4])[[1,1]]} meteorites', subtitle = 'Proportion of those meteorites that were found vs. fell')
animate(x)
x<-ggplot(mini,aes(x="", y=prop, fill=type, label=total))+
geom_bar(stat='identity', width=1)+
theme_void()+
scale_fill_manual(values=c("#C2226C","#FD6E68"), name="", labels=c("Fell", "Found"))+
coord_polar("y", start=0)+
theme(plot.background = element_rect(fill="#F1EAD7"),
plot.title= element_text(hjust=0.5, color="black", family="Verdana Bold"),
legend.direction="vertical",
legend.position = "bottom",
legend.text = element_text(size=10)
plot.subtitle = element_text(hjust = 0.5))
x<-x+
transition_states(year)+
ggtitle('In {closest_state} there were {(filter(mini, year == as.integer(closest_state))[4])[[1,1]]} meteorites', subtitle = 'Proportion of those meteorites that were found vs. fell')
animate(x)
x<-ggplot(mini,aes(x="", y=prop, fill=type, label=total))+
geom_bar(stat='identity', width=1)+
theme_void()+
scale_fill_manual(values=c("#C2226C","#FD6E68"), name="", labels=c("Fell", "Found"))+
coord_polar("y", start=0)+
theme(plot.background = element_rect(fill="#F1EAD7"),
plot.title= element_text(hjust=0.5, color="black", family="Verdana Bold"),
legend.direction="vertical",
legend.position = "none",
legend.text = element_text(size=10)
plot.subtitle = element_text(hjust = 0.5))
x<-x+
transition_states(year)+
ggtitle('In {closest_state} there were {(filter(mini, year == as.integer(closest_state))[4])[[1,1]]} meteorites', subtitle = 'Proportion of those meteorites that were found vs. fell')
animate(x)
x<-ggplot(mini,aes(x="", y=prop, fill=type, label=total))+
geom_bar(stat='identity', width=1)+
theme_void()+
scale_fill_manual(values=c("#C2226C","#FD6E68"), name="", labels=c("Fell", "Found"))+
coord_polar("y", start=0)+
theme(plot.background = element_rect(fill="#F1EAD7"),
plot.title= element_text(hjust=0.5, color="black", family="Verdana Bold"),
legend.direction="vertical",
legend.position = "none",
legend.text = element_text(size=10),
plot.subtitle = element_text(hjust = 0.5))
x<-x+
transition_states(year)+
ggtitle('In {closest_state} there were {(filter(mini, year == as.integer(closest_state))[4])[[1,1]]} meteorites', subtitle = 'Proportion of those meteorites that were found vs. fell')
animate(x)
x<-ggplot(mini,aes(x="", y=prop, fill=type, label=total))+
geom_bar(stat='identity', width=1)+
theme_void()+
scale_fill_manual(values=c("#C2226C","#FD6E68"), name="", labels=c("Fell", "Found"))+
coord_polar("y", start=0)+
theme(plot.background = element_rect(fill="#F1EAD7"),
plot.title= element_text(hjust=0.5, color="black", family="Verdana Bold"),
legend.direction="vertical",
legend.position = c(0.1,0.85),
legend.text = element_text(size=10),
plot.subtitle = element_text(hjust = 0.5))
x<-x+
transition_states(year)+
ggtitle('In {closest_state} there were {(filter(mini, year == as.integer(closest_state))[4])[[1,1]]} meteorites', subtitle = 'Proportion of those meteorites that were found vs. fell')
animate(x)
x<-ggplot(mini,aes(x="", y=prop, fill=type, label=total))+
geom_bar(stat='identity', width=1)+
theme_void()+
scale_fill_manual(values=c("#C2226C","#FD6E68"), name="", labels=c("Fell", "Found"))+
coord_polar("y", start=0)+
theme(plot.background = element_rect(fill="#F1EAD7"),
plot.title= element_text(hjust=0.5, color="black", family="Verdana Bold"),
legend.direction="vertical",
legend.position = c(0.1,0.9),
legend.text = element_text(size=12),
plot.subtitle = element_text(hjust = 0.5))
x<-x+
transition_states(year)+
ggtitle('In {closest_state} there were {(filter(mini, year == as.integer(closest_state))[4])[[1,1]]} meteorites', subtitle = 'Proportion of those meteorites that were found vs. fell')
animate(x)
x<-ggplot(mini,aes(x="", y=prop, fill=type, label=total))+
geom_bar(stat='identity', width=1)+
theme_void()+
scale_fill_manual(values=c("#C2226C","#FD6E68"), name="", labels=c("Fell", "Found"))+
coord_polar("y", start=0)+
theme(plot.background = element_rect(fill="#F1EAD7"),
plot.title= element_text(hjust=0.5, color="black", family="Verdana Bold", size=18),
legend.direction="vertical",
legend.position = c(0.1,0.9),
legend.text = element_text(size=14),
plot.subtitle = element_text(hjust = 0.5, size=14))
x<-x+
transition_states(year)+
ggtitle('In {closest_state} there were {(filter(mini, year == as.integer(closest_state))[4])[[1,1]]} meteorites', subtitle = 'Proportion of those meteorites that were found vs. fell')
animate(x)
?transition_states
2019-1940
animate(x, nframes=79)
animate(x, nframes=2*length(unique(mini$year)))
library(gganimate)
library(tidyverse)
library(extrafont)
meteorites<-readr::read_csv("https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2019/2019-06-11/meteorites.csv")
meteorite_proportions<-meteorites %>% group_by(year, fall) %>%
summarise(count=n())%>%
spread(key=fall, value=count, fill=0) %>%
mutate(total= Fell+Found, prop_found = Found / (Found + Fell)) %>%
mutate(prop_fell = Fell / (Fell+Found))%>%
gather(prop_fell, prop_found, key='type', value ='prop')
mini_meteorite_proportions<-filter(meteorite_proportions, year >= 1940)
x<-ggplot(mini_meteorite_proportions,aes(x="", y=prop, fill=type, label=total))+
geom_bar(stat='identity', width=1)+
theme_void()+
scale_fill_manual(values=c("#C2226C","#FD6E68"), name="", labels=c("Fell", "Found"))+
coord_polar("y", start=0)+
theme(plot.background = element_rect(fill="#F1EAD7"),
plot.title= element_text(hjust=0.5, color="black", family="Verdana Bold", size=18),
legend.direction="vertical",
legend.position = c(0.1,0.93),
legend.text = element_text(size=14),
plot.subtitle = element_text(hjust = 0.5, size=14))
x<-x+
transition_states(year)+
ggtitle('In {closest_state} there were {(filter(mini, year == as.integer(closest_state))[4])[[1,1]]} meteorites', subtitle = 'Proportion of those meteorites that were found vs. fell')
animate(x, nframes=2*length(unique(mini$year)))
animate(x, nframes=2*length(unique(mini_meteorite_proportions$year)))
library(gganimate)
library(tidyverse)
library(extrafont)
meteorites<-readr::read_csv("https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2019/2019-06-11/meteorites.csv")
meteorite_proportions<-meteorites %>% group_by(year, fall) %>%
summarise(count=n())%>%
spread(key=fall, value=count, fill=0) %>%
mutate(total= Fell+Found, prop_found = Found / (Found + Fell)) %>%
mutate(prop_fell = Fell / (Fell+Found))%>%
gather(prop_fell, prop_found, key='type', value ='prop')
mini_meteorite_proportions<-filter(meteorite_proportions, year >= 1940)
plot<-ggplot(mini_meteorite_proportions,aes(x="", y=prop, fill=type, label=total))+
geom_bar(stat='identity', width=1)+
theme_void()+
scale_fill_manual(values=c("#C2226C","#FD6E68"), name="", labels=c("Fell", "Found"))+
coord_polar("y", start=0)+
theme(plot.background = element_rect(fill="#F1EAD7"),
plot.title= element_text(hjust=0.5, color="black", family="Verdana Bold", size=18),
legend.direction="vertical",
legend.position = c(0.1,0.93),
legend.text = element_text(size=14),
plot.subtitle = element_text(hjust = 0.5, size=14))
plot<-plot+
transition_states(year)+
ggtitle('In {closest_state} there were {(filter(mini, year == as.integer(closest_state))[4])[[1,1]]} meteorites', subtitle = 'Proportion of those meteorites that were found vs. fell')
animate(x, nframes=2*length(unique(mini_meteorite_proportions$year)))
meteorites<-readr::read_csv("https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2019/2019-06-11/meteorites.csv")
meteorite_proportions<-meteorites %>% group_by(year, fall) %>%
summarise(count=n())%>%
spread(key=fall, value=count, fill=0) %>%
mutate(total= Fell+Found, prop_found = Found / (Found + Fell)) %>%
mutate(prop_fell = Fell / (Fell+Found))%>%
gather(prop_fell, prop_found, key='type', value ='prop')
View(meteorite_proportions)
mini_meteorite_proportions<-filter(meteorite_proportions, year >= 1940)
plot<-ggplot(mini_meteorite_proportions,aes(x="", y=prop, fill=type, label=total))+
geom_bar(stat='identity', width=1)+
theme_void()+
scale_fill_manual(values=c("#C2226C","#FD6E68"), name="", labels=c("Fell", "Found"))+
coord_polar("y", start=0)+
theme(plot.background = element_rect(fill="#F1EAD7"),
plot.title= element_text(hjust=0.5, color="black", family="Verdana Bold", size=18),
legend.direction="vertical",
legend.position = c(0.1,0.93),
legend.text = element_text(size=14),
plot.subtitle = element_text(hjust = 0.5, size=14))
plot<-plot+
transition_states(year)+
ggtitle('In {closest_state} there were {(filter(mini, year == as.integer(closest_state))[4])[[1,1]]} meteorites', subtitle = 'Proportion of those meteorites that were found vs. fell')
animate(plot, nframes=2*length(unique(mini_meteorite_proportions$year)))
meteorites<-readr::read_csv("https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2019/2019-06-11/meteorites.csv")
meteorite_proportions<-meteorites %>% group_by(year, fall) %>%
summarise(count=n())%>%
spread(key=fall, value=count, fill=0) %>%
mutate(total= Fell+Found, prop_found = Found / (Found + Fell)) %>%
mutate(prop_fell = Fell / (Fell+Found))%>%
gather(prop_fell, prop_found, key='type', value ='prop')
mini_meteorite_proportions<-filter(meteorite_proportions, year >= 1940)
plot<-ggplot(mini_meteorite_proportions,aes(x="", y=prop, fill=type, label=total))+
geom_bar(stat='identity', width=1)+
theme_void()+
scale_fill_manual(values=c("#C2226C","#FD6E68"), name="", labels=c("Fell", "Found"))+
coord_polar("y", start=0)+
theme(plot.background = element_rect(fill="#F1EAD7"),
plot.title= element_text(hjust=0.5, color="black", family="Verdana Bold", size=18),
legend.direction="vertical",
legend.position = c(0.1,0.93),
legend.text = element_text(size=14),
plot.subtitle = element_text(hjust = 0.5, size=14))
plot
plot<-plot+
transition_states(year)+
ggtitle('In {closest_state} there were {(filter(mini, year == as.integer(closest_state))[4])[[1,1]]} meteorites', subtitle = 'Proportion of those meteorites that were found vs. fell')
plot
plot<-plot+
transition_states(year)+
ggtitle('In {closest_state} there were {(filter(
plot<-ggplot(, year == as.integer(closest_state))[4])[[1,1]]} meteorites', subtitle = 'Proportion of those meteorites that were found vs. fell')
animate(plot, nframes=2*length(unique(mini_meteorite_proportions$year)))
View(mini_meteorite_proportions)
plot<-plot+
transition_states(year)+
ggtitle('In {closest_state} there were {(filter(mini_meteorite_proportions, year == as.integer(closest_state))[4])[[1,1]]} meteorites', subtitle = 'Proportion of those meteorites that were found vs. fell')
animate(plot, nframes=2*length(unique(mini_meteorite_proportions$year)))
anim_save('meteorite.gif')
setwd("~/Desktop/GitHub/TidyTuesday/06112019")
anim_save('meteorite.gif')
